<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ù‚ÛŒÙ‚ Mnemonic</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
        direction: rtl;
      }
      .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        border-radius: 16px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }
      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }
      .header h1 {
        font-size: 32px;
        margin-bottom: 10px;
      }
      .header p {
        opacity: 0.9;
        font-size: 16px;
      }
      .content {
        padding: 30px;
      }
      .section {
        margin-bottom: 30px;
      }
      .section-title {
        font-size: 18px;
        font-weight: bold;
        color: #333;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 2px solid #667eea;
      }
      textarea {
        width: 100%;
        min-height: 120px;
        padding: 15px;
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 14px;
        border: 2px solid #ddd;
        border-radius: 8px;
        resize: vertical;
        direction: ltr;
        text-align: left;
      }
      textarea:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }
      .btn-group {
        display: flex;
        gap: 10px;
        margin-top: 15px;
      }
      button {
        flex: 1;
        padding: 15px;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
      }
      .btn-check {
        background: #667eea;
        color: white;
      }
      .btn-check:hover {
        background: #5568d3;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      }
      .btn-clear {
        background: #f44336;
        color: white;
      }
      .btn-clear:hover {
        background: #d32f2f;
      }
      .result-box {
        margin-top: 20px;
        padding: 20px;
        border-radius: 8px;
        display: none;
      }
      .result-box.show {
        display: block;
      }
      .result-box.success {
        background: #d4edda;
        border: 2px solid #c3e6cb;
        color: #155724;
      }
      .result-box.error {
        background: #f8d7da;
        border: 2px solid #f5c6cb;
        color: #721c24;
      }
      .result-box.warning {
        background: #fff3cd;
        border: 2px solid #ffeaa7;
        color: #856404;
      }
      .result-icon {
        font-size: 48px;
        text-align: center;
        margin-bottom: 15px;
      }
      .result-title {
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        margin-bottom: 15px;
      }
      .result-detail {
        font-size: 14px;
        line-height: 1.6;
      }
      .word-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 10px;
        margin-top: 15px;
      }
      .word-item {
        padding: 10px;
        border-radius: 6px;
        text-align: center;
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 13px;
        border: 2px solid;
      }
      .word-item.valid {
        background: #d4edda;
        border-color: #c3e6cb;
        color: #155724;
      }
      .word-item.invalid {
        background: #f8d7da;
        border-color: #f5c6cb;
        color: #721c24;
      }
      .word-number {
        font-size: 10px;
        opacity: 0.7;
        display: block;
        margin-bottom: 3px;
      }
      .stats {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
        margin: 20px 0;
      }
      .stat-card {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        text-align: center;
      }
      .stat-label {
        font-size: 12px;
        color: #666;
        margin-bottom: 5px;
      }
      .stat-value {
        font-size: 32px;
        font-weight: bold;
        color: #333;
      }
      .info-box {
        background: #e7f3ff;
        border: 2px solid #b3d9ff;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
      }
      .info-box strong {
        color: #0066cc;
      }
      .test-samples {
        margin-top: 30px;
      }
      .sample-item {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 10px;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.2s;
      }
      .sample-item:hover {
        border-color: #667eea;
        transform: translateX(-5px);
      }
      .sample-title {
        font-weight: bold;
        margin-bottom: 5px;
        color: #667eea;
      }
      .sample-text {
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 12px;
        color: #666;
        direction: ltr;
        text-align: left;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ğŸ” Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ù‚ÛŒÙ‚ Mnemonic</h1>
        <p>Ù‡Ø± Ú©Ù„Ù…Ù‡ Ø±Ø§ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯</p>
      </div>

      <div class="content">
        <div class="info-box">
          <strong>ğŸ“Œ Ù†Ú©ØªÙ‡:</strong> Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù‡Ù…Ø§Ù† Ú†ÛŒØ²ÛŒ Ø±Ø§ Ú©Ù‡ wallet Ø´Ù…Ø§
          Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ ØªØ³Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ù‡Ø± Ú©Ù„Ù…Ù‡ Ø±Ø§ Ø¨Ø§ Ù„ÛŒØ³Øª 2048 Ú©Ù„Ù…Ù‡ BIP39 Ù…Ù‚Ø§ÛŒØ³Ù‡
          Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
        </div>

        <div class="section">
          <div class="section-title">ğŸ”‘ Mnemonic Ø´Ù…Ø§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</div>
          <textarea
            id="mnemonicInput"
            placeholder="mnemonic Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ paste Ú©Ù†ÛŒØ¯...

Ù…Ø«Ø§Ù„:
bottom drive obey lake curtain smoke basket hold race lonely fit walk"
          ></textarea>

          <div class="btn-group">
            <button class="btn-check" onclick="checkMnemonic()">
              âœ“ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†
            </button>
            <button class="btn-clear" onclick="clearAll()">âœ• Ù¾Ø§Ú© Ú©Ù†</button>
          </div>
        </div>

        <div id="resultBox" class="result-box">
          <!-- Results will be inserted here -->
        </div>

        <div class="test-samples">
          <div class="section-title">ğŸ“‹ Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ³Øª</div>

          <div
            class="sample-item"
            onclick="fillSample('bottom drive obey lake curtain smoke basket hold race lonely fit walk')"
          >
            <div class="sample-title">âœ… Ù…Ø¹ØªØ¨Ø± - 12 Ú©Ù„Ù…Ù‡ (Ù¾ÛŒØ´â€ŒÙØ±Ø¶ ØªØ³Øª)</div>
            <div class="sample-text">
              bottom drive obey lake curtain smoke basket hold race lonely fit
              walk
            </div>
          </div>

          <div
            class="sample-item"
            onclick="fillSample('abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about')"
          >
            <div class="sample-title">âœ… Ù…Ø¹ØªØ¨Ø± - 12 Ú©Ù„Ù…Ù‡ (Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯)</div>
            <div class="sample-text">
              abandon abandon abandon abandon abandon abandon abandon abandon
              abandon abandon abandon about
            </div>
          </div>

          <div
            class="sample-item"
            onclick="fillSample('test abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about')"
          >
            <div class="sample-title">âŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø± - checksum Ø§Ø´ØªØ¨Ø§Ù‡</div>
            <div class="sample-text">
              test abandon abandon abandon abandon abandon abandon abandon
              abandon abandon abandon about
            </div>
          </div>

          <div
            class="sample-item"
            onclick="fillSample('word1 word2 word3 word4 word5 word6 word7 word8 word9 word10 word11 word12')"
          >
            <div class="sample-title">âŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø± - Ú©Ù„Ù…Ø§Øª BIP39 Ù†ÛŒØ³ØªÙ†Ø¯</div>
            <div class="sample-text">
              word1 word2 word3 word4 word5 word6 word7 word8 word9 word10
              word11 word12
            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="module">
      import * as bip39 from 'https://cdn.jsdelivr.net/npm/bip39@3.1.0/+esm';
      window.bip39 = bip39;

      window.checkMnemonic = function () {
        const input = document.getElementById('mnemonicInput').value;
        const resultBox = document.getElementById('resultBox');

        if (!input.trim()) {
          showResult('error', 'âŒ', 'Ø®Ø·Ø§', 'Ù„Ø·ÙØ§Ù‹ mnemonic Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
          return;
        }

        // Clean mnemonic (same as wallet)
        const cleaned = input.trim().toLowerCase().replace(/\s+/g, ' ');
        const words = cleaned.split(' ');
        const wordCount = words.length;

        console.log('ğŸ” Input:', input);
        console.log('ğŸ” Cleaned:', cleaned);
        console.log('ğŸ” Words:', words);

        // Get BIP39 wordlist
        const wordlist = bip39.wordlists.english;

        // Check each word
        const validWords = [];
        const invalidWords = [];

        words.forEach((word, index) => {
          if (wordlist.includes(word)) {
            validWords.push({ index: index + 1, word });
          } else {
            invalidWords.push({ index: index + 1, word });
          }
        });

        // Generate word grid HTML
        let wordGridHTML = '<div class="word-grid">';
        words.forEach((word, index) => {
          const isValid = wordlist.includes(word);
          wordGridHTML += `
                    <div class="word-item ${isValid ? 'valid' : 'invalid'}">
                        <span class="word-number">#${index + 1}</span>
                        ${isValid ? 'âœ“' : 'âœ—'} ${word}
                    </div>
                `;
        });
        wordGridHTML += '</div>';

        // Show stats
        const statsHTML = `
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-label">ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„Ù…Ø§Øª</div>
                        <div class="stat-value">${wordCount}</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Ú©Ù„Ù…Ø§Øª Ù…Ø¹ØªØ¨Ø±</div>
                        <div class="stat-value" style="color: #28a745;">${validWords.length}</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Ú©Ù„Ù…Ø§Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±</div>
                        <div class="stat-value" style="color: #dc3545;">${invalidWords.length}</div>
                    </div>
                </div>
            `;

        // If there are invalid words
        if (invalidWords.length > 0) {
          const invalidList = invalidWords
            .map((w) => `#${w.index}: "${w.word}"`)
            .join('<br>');
          showResult(
            'error',
            'âŒ',
            'Ú©Ù„Ù…Ø§Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø± BIP39 Ù¾ÛŒØ¯Ø§ Ø´Ø¯',
            `<div class="result-detail">
                        ${statsHTML}
                        <p style="margin: 15px 0;">Ø§ÛŒÙ† Ú©Ù„Ù…Ø§Øª Ø¯Ø± Ù„ÛŒØ³Øª BIP39 Ù†ÛŒØ³ØªÙ†Ø¯:</p>
                        <div style="background: #fff; padding: 15px; border-radius: 6px; direction: ltr; text-align: left;">
                            ${invalidList}
                        </div>
                        <p style="margin-top: 15px;">ğŸ’¡ Ù„Ø·ÙØ§Ù‹ Ø§Ù…Ù„Ø§ÛŒ Ú©Ù„Ù…Ø§Øª Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø§Ø² mnemonic ØµØ­ÛŒØ­ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.</p>
                        ${wordGridHTML}
                    </div>`
          );
          return;
        }

        // Check word count
        if (wordCount !== 12 && wordCount !== 24) {
          showResult(
            'warning',
            'âš ï¸',
            'ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„Ù…Ø§Øª Ø§Ø´ØªØ¨Ø§Ù‡',
            `<div class="result-detail">
                        ${statsHTML}
                        <p>ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„Ù…Ø§Øª Ø¨Ø§ÛŒØ¯ 12 ÛŒØ§ 24 Ø¨Ø§Ø´Ø¯ØŒ Ø§Ù…Ø§ ${wordCount} Ú©Ù„Ù…Ù‡ Ø¯Ø§Ø±ÛŒØ¯.</p>
                        ${wordGridHTML}
                    </div>`
          );
          return;
        }

        // Validate with BIP39 (checksum)
        const isValid = bip39.validateMnemonic(cleaned);

        if (isValid) {
          showResult(
            'success',
            'âœ…',
            'Mnemonic Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª!',
            `<div class="result-detail">
                        ${statsHTML}
                        <p style="margin: 15px 0;">âœ“ Ù‡Ù…Ù‡ Ú©Ù„Ù…Ø§Øª Ù…Ø¹ØªØ¨Ø± BIP39 Ù‡Ø³ØªÙ†Ø¯<br>
                        âœ“ ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„Ù…Ø§Øª ØµØ­ÛŒØ­ Ø§Ø³Øª (${wordCount} Ú©Ù„Ù…Ù‡)<br>
                        âœ“ Checksum Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª</p>
                        <div style="background: #fff; padding: 15px; border-radius: 6px; margin-top: 15px;">
                            <strong>Mnemonic ØªÙ…ÛŒØ² Ø´Ø¯Ù‡:</strong><br>
                            <code style="direction: ltr; display: block; margin-top: 10px;">${cleaned}</code>
                        </div>
                        ${wordGridHTML}
                        <p style="margin-top: 20px; color: #28a745; font-weight: bold;">
                            ğŸ‰ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§ÛŒÙ† mnemonic Ø±Ø§ Ø¯Ø± wallet Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯!
                        </p>
                    </div>`
          );
        } else {
          showResult(
            'error',
            'âŒ',
            'Checksum Ù†Ø§Ù…Ø¹ØªØ¨Ø±',
            `<div class="result-detail">
                        ${statsHTML}
                        <p style="margin: 15px 0;">âœ“ Ù‡Ù…Ù‡ Ú©Ù„Ù…Ø§Øª Ù…Ø¹ØªØ¨Ø± BIP39 Ù‡Ø³ØªÙ†Ø¯<br>
                        âœ“ ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„Ù…Ø§Øª ØµØ­ÛŒØ­ Ø§Ø³Øª (${wordCount} Ú©Ù„Ù…Ù‡)<br>
                        âœ— Checksum Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª</p>
                        ${wordGridHTML}
                        <p style="margin-top: 15px;">
                            âš ï¸ Ø§ÛŒÙ† Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ø¹Ù†ÛŒ Ø§Ø³Øª Ú©Ù‡:<br>
                            â€¢ Ù…Ù…Ú©Ù† Ø§Ø³Øª ØªØ±ØªÛŒØ¨ Ú©Ù„Ù…Ø§Øª Ø§Ø´ØªØ¨Ø§Ù‡ Ø¨Ø§Ø´Ø¯<br>
                            â€¢ Ù…Ù…Ú©Ù† Ø§Ø³Øª ÛŒÚ© ÛŒØ§ Ú†Ù†Ø¯ Ú©Ù„Ù…Ù‡ Ø§Ø´ØªØ¨Ø§Ù‡ Ø¨Ø§Ø´Ø¯<br>
                            â€¢ Mnemonic Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ø§Ø² Ù…Ù†Ø¨Ø¹ Ø§ØµÙ„ÛŒ Ú©Ù¾ÛŒ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª
                        </p>
                        <p style="margin-top: 15px; font-weight: bold; color: #dc3545;">
                            ğŸ’¡ Ù„Ø·ÙØ§Ù‹ Ø§Ø² backup Ø§ØµÙ„ÛŒ Ø®ÙˆØ¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.
                        </p>
                    </div>`
          );
        }
      };

      window.showResult = function (type, icon, title, content) {
        const resultBox = document.getElementById('resultBox');
        resultBox.className = `result-box ${type} show`;
        resultBox.innerHTML = `
                <div class="result-icon">${icon}</div>
                <div class="result-title">${title}</div>
                ${content}
            `;
        resultBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      };

      window.clearAll = function () {
        document.getElementById('mnemonicInput').value = '';
        document.getElementById('resultBox').className = 'result-box';
        document.getElementById('resultBox').innerHTML = '';
      };

      window.fillSample = function (mnemonic) {
        document.getElementById('mnemonicInput').value = mnemonic;
        document.getElementById('resultBox').className = 'result-box';
        document.getElementById('resultBox').innerHTML = '';
        document
          .getElementById('mnemonicInput')
          .scrollIntoView({ behavior: 'smooth', block: 'center' });
      };

      console.log('âœ… Mnemonic checker loaded');
      console.log('ğŸ“¦ BIP39 wordlist size:', bip39.wordlists.english.length);
    </script>
  </body>
</html>
